# JRun平台 MVP 版本需求规格说明书（SRS）

# JRun平台 MVP 版本需求规格说明书（SRS）

## 1. 项目概述

### 1.1 项目目标

构建一款支持 Android/iOS 移动端、Web 端自动化测试与接口自动化测试的一体化平台，实现“项目管理→用例编写→设备选择→测试执行→报告查看→告警通知”的全流程闭环，提升测试效率与结果可视化程度。

### 1.2 核心受众

测试工程师、项目负责人、平台管理员

### 1.3 MVP 版本范围

| 类别 | 包含内容 | 暂不包含 |

|------|----------|----------|

| 架构 | 前后端分离架构、Docker 部署、多环境隔离 | 微服务架构、插件化扩展、CI/CD 集成 |

| 核心功能 | 用户/项目/设备管理、自动化用例编写与调试、测试执行、测试报告、数据分析大屏、告警通知 | 用例版本管理、批量操作、报告对比、插件开发、日志管理、数据加密 |

| 自动化能力 | Android/iOS/Web UI 自动化、接口自动化、SDK 健康检查 | 无线设备连接、失败重试、定时执行计划 |

## 2. 技术架构

### 2.1 整体架构

- 架构模式：前后端分离

- 部署方案：Docker 容器化部署，支持开发/测试/生产多环境隔离

- 认证方式：JWT + OAuth2.0 双重认证

### 2.2 技术栈选型

| 层面 | 技术选型 | 补充说明 |

|------|----------|----------|

| 前端 | Vue + DaisyUI | 遵循 DaisyUI 设计规范，保证界面一致性 |

| 后端 | Spring Boot | 核心业务逻辑开发、接口提供 |

| 移动端 SDK | 自研 Android/iOS 自动化 SDK | 支持 Android 10+、iOS 14+，内置健康检查机制 |

| 数据库 | （默认关系型数据库，如 MySQL） | 存储用户、项目、用例、报告等核心数据 |

## 3. 核心功能模块需求

### 3.1 用户管理模块

#### 3.1.1 基础功能

- 核心操作：用户注册、创建、编辑、禁用、删除、个人信息维护（昵称/头像/联系方式）、密码重置/找回

- 登录登出：支持账号密码登录，登录状态基于 JWT 维持，支持安全登出

#### 3.1.2 权限与角色体系

- 预设角色：

- 管理员：所有功能操作权限（用户管理、项目审批、全局配置）

- 项目负责人：项目管理、用例审核、报告查看、成员管理

- 测试工程师：用例编写、测试执行、报告查看、个人信息维护

- 权限控制：细粒度权限划分，支持“功能级+数据级”权限控制（如仅能查看所属项目的用例与报告）

- 扩展支持：新功能上线后可配置角色权限关联

### 3.2 项目管理模块

#### 3.2.1 项目生命周期

- 核心阶段：创建→配置→执行→归档

- 创建：填写项目名称、描述、负责人、成员等基础信息

- 配置：关联测试设备、设置项目级环境变量

- 执行：关联自动化用例并触发测试

- 归档：项目终止后归档，支持查询但不可编辑

#### 3.2.2 关联管理

- 用例管理：用例按项目分组，仅项目成员可操作所属项目的用例

- 报告管理：测试报告按“项目+用例负责人”双重维度归档

### 3.3 设备管理模块

#### 3.3.1 设备支持范围

- 设备类型：Android 设备（10+）、iOS 设备（14+）、Web 浏览器（主流Chrome/Firefox/Edge）

- 连接方式：有线连接（暂不支持无线连接）

#### 3.3.2 核心功能

- 设备注册：自动识别已连接设备并完成注册

- 状态监控：实时展示设备在线/离线状态、系统版本、设备型号等信息

- 设备管理：支持设备分组、标签设置、备注填写（如“测试机-Android 12-小米13”）

- 执行分配：测试任务执行时，支持手动选择设备或系统自动分配空闲设备

### 3.4 自动化用例模块

#### 3.4.1 用例类型

- 支持类型：Android UI 自动化、iOS UI 自动化、Web UI 自动化、接口自动化

#### 3.4.2 在线编辑器

- 功能特性：代码编辑器（支持语法高亮、自动补全、代码片段复用）

- 语言支持：（默认支持 Java 语法，适配 Android 开发背景）

#### 3.4.3 编写与调试

| 用例类型 | 编写支持 | 调试功能 |

|----------|----------|----------|

| UI 自动化 | 支持 id/xpath/css/accessibilityId 等常用元素定位方式，提供定位器实时校验（一键验证元素是否存在）、可视化录制工具（无需手动编写定位器） | 操作步骤可视化输出、执行日志实时打印 |

| 接口自动化 | 支持配置请求方法（GET/POST/PUT/DELETE）、请求头、请求体、参数等 | 实时返回请求结果、状态码、响应耗时，超时场景给出明确提示 |

#### 3.4.4 环境变量管理

- 分层配置：

- 全局环境变量：所有项目共用，如通用 BaseURL、公共参数

- 项目级环境变量：仅当前项目可用，继承全局环境变量（可覆盖全局变量）

- 适用场景：接口自动化的 BaseURL、超时时间，UI 自动化的浏览器版本/分辨率等

### 3.5 测试执行模块

#### 3.5.1 执行配置

- 环境参数自定义：

- Web 自动化：选择浏览器类型/版本

- 移动端自动化：选择设备型号/系统版本/分辨率

- 接口自动化：选择环境变量（全局/项目级）、设置超时时间

- 执行策略：

- 并发控制：支持自定义并发数范围（默认串行执行）

- 失败处理：某条用例执行失败后，不停止后续用例执行

#### 3.5.2 执行监控

- 实时展示执行进度（已执行/总用例数）、当前执行用例名称、执行状态（成功/失败/执行中）

### 3.6 测试报告模块

#### 3.6.1 报告核心内容

- 基础信息：项目名称、用例名称、执行负责人、执行时间、执行环境（设备型号/系统版本/浏览器版本）

- 执行详情：用例执行结果（成功/失败）、前置步骤执行结果、后置步骤执行结果、执行耗时统计

- 失败信息：失败步骤截图（UI 自动化）、请求报文（接口自动化）、失败原因描述

- 状态统计：单报告内用例通过率、成功/失败用例数量

#### 3.6.2 报告操作

- 查看方式：在线查看（按项目+负责人归档，支持按项目筛选）

- 导出功能：（暂不支持，MVP 版本仅支持在线浏览）

### 3.7 数据分析大屏模块

#### 3.7.1 核心指标

- 用例执行通过率：按项目/时间维度统计

- 自动化覆盖率：（需关联用例与需求，按项目展示）

- 接口响应时间分布：接口自动化执行的响应时间区间统计（如 0-500ms、500ms-1s 等）

- 设备稳定性：各设备执行用例的成功率统计

- 用例失败 TOP 原因：按失败类型（元素定位失败、接口超时、环境异常等）统计频次

#### 3.7.2 可视化与筛选

- 可视化形式：根据数据类型自动选择最优展示方式（折线图/柱状图/饼图等）

- 筛选功能：支持按项目、时间范围、设备类型筛选指标数据

### 3.8 告警通知模块

#### 3.8.1 告警触发条件

- 测试任务执行失败（全量/部分用例失败均触发）

- SDK 健康检查异常（设备连接失败、SDK 初始化失败）

#### 3.8.2 告警配置

- 告警级别：默认分为“严重（任务执行失败）、普通（SDK 警告）”两级

- 通知渠道：邮件 + 企业微信（支持配置接收人，如项目负责人、用例负责人）

- 推送内容：项目名称、任务名称、执行结果、失败数量、报告链接、告警级别

## 4. 非功能需求

### 4.1 兼容性

- 浏览器兼容：支持 Chrome（最新版）、Firefox（最新版）、Edge（最新版）

- 设备兼容：Android 10+ 所有主流机型、iOS 14+ 所有主流机型

- 系统兼容：服务器支持 Windows Server 2016+、Linux（CentOS 7+/Ubuntu 18+）

### 4.2 性能要求

- 接口响应时间：核心接口（用例执行、报告查询）响应时间 ≤ 3s

- 并发支持：同时支持 ≤ 10 个测试任务并发执行（MVP 版本）

- 设备连接：单服务器支持同时连接 ≤ 20 台测试设备

### 4.3 可用性

- 系统可用性：≥ 99.5%（MVP 版本，不含维护时间）

- 故障恢复：设备连接失败后，支持手动重试连接，无需重启系统

### 4.4 易用性

- 操作流程：核心流程（创建项目→编写用例→执行测试→查看报告）步骤 ≤ 5 步

- 编辑器体验：提供常用代码片段（如 UI 元素定位模板、接口请求模板），减少重复编写

- 提示反馈：所有操作（如用例保存、任务提交、设备连接）均有明确成功/失败提示

## 5. 核心业务流程

### 5.1 测试执行核心流程

1. 管理员初始化平台（一键配置默认管理员账号、基础环境参数）

2. 测试工程师登录平台，创建/加入项目

3. 编写自动化用例（UI/接口），配置环境变量，在线调试通过

4. 进入设备管理模块，选择可用设备（手动选择/自动分配）

5. 触发测试执行，实时监控执行进度

6. 执行完成后，查看测试报告（失败用例查看截图/报文）

7. 接收告警通知（失败时通过邮件/企业微信推送）

### 5.2 项目负责人流程

1. 创建项目，添加项目成员（测试工程师），配置项目级环境变量

2. 查看项目下所有用例执行情况、数据分析大屏指标

3. 接收项目相关测试任务告警通知，跟踪失败用例处理进度

## 6. 关键约束与假设

1. 测试设备需通过有线方式连接服务器，且提前安装对应驱动

2. 接口自动化用例依赖用户手动配置环境变量（BaseURL、参数等），暂不支持动态变量注入

3. MVP 版本不涉及敏感数据加密，需在后续版本补充

4. 用例执行失败后，需用户手动排查原因（如元素定位器失效、设备离线），系统仅提供基础失败信息

5. 平台初始化后，默认管理员账号需及时修改密码，保障账号安全
> （注：文档全部内容由 DouBao AI 生成）